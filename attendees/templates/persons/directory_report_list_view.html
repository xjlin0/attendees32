{% load static i18n %}
<!DOCTYPE html>
{% get_current_language as LANGUAGE_CODE %}
<html lang="{{ LANGUAGE_CODE }}">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Directory</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Activities/Attendees Management">
    <meta name="author" content="Jack Jack">

    <link rel="icon" href="{% static 'images/favicons/favicon.ico' %}">

    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/css/bootstrap.min.css"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
          crossorigin="anonymous"
          referrerpolicy="no-referrer" />

    <link rel="stylesheet"
          href="{% static 'css/directory.css' %}">

<!--      <link rel="preload"-->
<!--            as="style"-->
<!--            href="{% static 'bootstrap/bootstrap.min.css' %}"-->
<!--            onload="this.rel='stylesheet'">-->
    <!-- Le javascript
    ================================================== -->
    {# Placed at the top of the document so pages load faster with defer #}
      <!-- Bootstrap JS -->
<!--      <script defer-->
<!--              src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.3/js/bootstrap.min.js" -->
<!--              integrity="sha512-OvBgP9A2JBgiRad/mM36mkzXSXaJE9BEIENnVEmeZdITvwT09xnxLtT4twkCa8m/loMbPHsvPl0T8lRGVBwjlQ==" -->
<!--              crossorigin="anonymous" -->
<!--              referrerpolicy="no-referrer"> -->
<!--      </script> -->
    <script defer
            src="https://unpkg.com/pagedjs/dist/paged.polyfill.js">
    </script>

<!--    <script defer-->
<!--              comment="Bootstrap 5 bundled with popper"-->
<!--              src="{% static 'bootstrap/bootstrap.bundle.min.js' %}"-->
<!--              integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"-->
<!--              crossorigin="anonymous">-->
<!--      </script>-->

  </head>

  <body>
    <div class="family-directory-container">
      <h1> This directory is strictly only for internal use. </h1>
      <h2> Please print the page and "save as a pdf".</h2>
      <h3> Please double check if the extra page break needed before the indexes.</h3>
      <h4> ps. Dark theme may not be compatible on font display </h4>
      <div class="page-break"></div>
      <div class="d-flex justify-content-between">
        <div></div>
        <div>Header 1</div>
      </div>
      {% for family in families %}
      <div class="family-container">
        <div class="family-title-container">
          <div class="family-last_name left">
            {{family.household_last_name}}
          </div>
          <div class="family-other_names">
            {{family.household_title}}
          </div>
          <div class="right"></div>
        </div>
        <div class="attendees-container">
          {% for attendee in family.attendees %}
          <div class="attendee">
            {{attendee.name2}}      <br>
            {{attendee.first_name}} <br>
            {% if attendee.photo_url%}
            <img class="directory-photo-img"
                 src="{{attendee.photo_url}}">
            {% else %}
            <img class="directory-photo-img"
                 src="{{empty_image_link}}">
            {% endif %}
          </div>
          {% endfor %}
        </div>
        <div class="contacts-container">
          <div class="phone_address left">
            {{family.phone1}}       <br>
            {{family.address_line1}}<br>
            {{family.address_line2}}
          </div>
          <div class="phone_email">
            {{family.phone2}}<br>
            {{family.email1}}<br>
            {{family.email2}}
          </div>
          <div class="right"></div>
        </div>
      </div>
      {% if forloop.counter|divisibleby:3 %}
        <div class="page-break"></div>
        <div class="d-flex justify-content-between">
          <div></div>
          <div>Header 1</div>
        </div>
      {% endif %}
      {% endfor %}
    </div>

    {% if True %}
    <div class="page-break">configurable break</div>
    {% endif %}

    <div class="index-directory-container">
      <div class="d-flex justify-content-between">
        <div></div>
        <div>Header 2</div>
      </div>
      <p>
        index-directory goes here, 26 items per page
      </p>
    </div>
  </body>
</html>

